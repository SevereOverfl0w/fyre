#!/bin/sh
#
# File        : /home/wildefyr/.fyre/scripts/winkill
# Maintainer  : Wildefyr | http://wildefyr.net
# Copyright   : Wildefyr | Licensed under the WTFPL license.
# Description : Perform checks and tasks when killing a window.

wid=$1
windowC=$(wclass c $wid)
windowP=$(wclass p $wid)

checkFullscreen() {
    if [[ -e $FSFILE ]]; then
        if [[ $(cat $FSFILE | cut -d\  -f 5) == $PFW ]]; then
            rm $FSFILE
        fi
    fi
}

if [[ $(wclass c $(pfw)) == "urxvtc" ]]; then
    killwa $PFW
    tile
else
    sed -i "/$PFW/d" $DETECT
    checkFullscreen
fi

killw $(pfw); bgc
